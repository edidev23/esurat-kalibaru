var $me_hyperlink={link_html:!1,link_url:!1,link_title:!1,cur_anchor:!1,construct:function(){if(parent.$m.is.alive(parent.$m.t.magic_editor.selection.txt)===!1)parent.$m.t.magic_editor.selection.txt="";this.cur_anchor=parent.$m.t.magic_editor.cur_anchor;this.nlink_title=document.getElementById("nlink_title");this.nlink_title.value=parent.$m.t.magic_editor.selection.txt;this.nlink_url=document.getElementById("nlink_url");this.nlink_url.value="http://www.example.com/";this.nlink_target=document.getElementById("nlink_target");
if(this.cur_anchor!==!1){document.getElementById("link_create").value="Update Link";var a=this.cur_anchor.getAttribute("href");if(parent.$m.is.alive(a)===!0)this.nlink_url.value=a;a=this.cur_anchor.getAttribute("target");if(parent.$m.is.alive(a)===!0&&a=="_blank")this.nlink_target.checked=!0}},create:function(){$me_hyperlink.cur_anchor!==!1?(parent.$m.t.magic_editor.cur_anchor.href=$me_hyperlink.nlink_url.value,$me_hyperlink.link_title=parent.$m.is.alive($me_hyperlink.nlink_title.value)===!0?$me_hyperlink.nlink_title.value:
$me_hyperlink.nlink_url.value,parent.$m.t.magic_editor.cur_anchor.innerHTML=$me_hyperlink.link_title,$me_hyperlink.nlink_target.checked===!0?parent.$m.t.magic_editor.cur_anchor.setAttribute("target","_blank"):parent.$m.t.magic_editor.cur_anchor.removeAttribute("target")):($me_hyperlink.link_html='<a href="',$me_hyperlink.link_url=$me_hyperlink.nlink_url.value,$me_hyperlink.link_title=parent.$m.is.alive($me_hyperlink.nlink_title.value)===!0?$me_hyperlink.nlink_title.value:$me_hyperlink.nlink_url.value,
$me_hyperlink.link_html+=$me_hyperlink.link_url+'"',$me_hyperlink.nlink_target.checked===!0&&($me_hyperlink.link_html+=' target="_blank"'),$me_hyperlink.link_html+=">"+$me_hyperlink.link_title+"</a>",parent.$m.t.magic_editor.inject_html($me_hyperlink.link_html,"inline"));parent.$m.t.magic_editor.cur_anchor=!1;parent.$m.t.darkroom.hide("mjf_darkroom_iframe_div.link")},remove:function(){parent.$m.id("magic_"+parent.$m.t.magic_editor.cur_ed).contentWindow.document.execCommand("unlink",!1,null);parent.$m.t.magic_editor.cur_anchor=
!1;parent.$m.t.darkroom.hide("mjf_darkroom_iframe_div.link")},cancel:function(){parent.$m.t.magic_editor.cur_anchor=!1;parent.$m.t.darkroom.hide("mjf_darkroom_iframe_div.link")}};window.onload=function(){$me_hyperlink.construct()};
