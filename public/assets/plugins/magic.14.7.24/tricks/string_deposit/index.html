<!DOCTYPE html>
<html>
<head>
	<title>String Deposit: Tricks: Magic JavaScript</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<link href="../../stylesheets/defaults.css" rel="stylesheet" media="all">
	<link href="../../stylesheets/docs.css" rel="stylesheet" media="all">

	<link href="../../stylesheets/magic.src.css" rel="stylesheet">
	<script type="text/javascript" src="../../magic.src.js" charset="UTF-8"></script>
	<script type="text/javascript">
		$m.construct({
			 lang : "en_us"
			,create_html5 : true
			,global_debug : false
			,animations : { use : true }
			,ajax : { use : false, debug : "high", visual : true, timeout : 15 }
			,send_timezone_to : false
		});
	</script>
	<script type="text/javascript" src="../../wand.src.js" charset="UTF-8"></script>
	<link href="../darkroom/darkroom.src.css" rel="stylesheet">
	<script type="text/javascript" src="../darkroom/darkroom.src.js" charset="UTF-8"></script>
	<script type="text/javascript" src="../../_versions.js" charset="UTF-8"></script>
	
	<link href="../magic_editor/magic_editor.src.css" rel="stylesheet">
	<script type="text/javascript" src="../magic_editor/magic_editor.src.js" charset="UTF-8"></script>
	
	<link href="string_deposit.src.css" rel="stylesheet">
	<script type="text/javascript" src="string_deposit.src.js" charset="UTF-8"></script>

	<link href="../drag_n_drop/drag_n_drop.src.css" rel="stylesheet">
	<script type="text/javascript" src="../drag_n_drop/drag_n_drop.src.js" charset="UTF-8"></script>

</head>
<body>
	
	<h1 class="align_center margin_bottom_5"><a href="../../docs/"><img src="../../images/icons/icon_magic.png" alt="Magic Icon" class="valign_middle"></a> String Deposit (<script type="text/javascript">document.write($m.versions.tricks.string_deposit);</script>): Magic JavaScript</h1>
	
	<p id="mjs_quick_jump"><a href="#" data-mjf="darkroom|return_false" data-mjf_dr_type="iframe" data-mjf_dr_iframe_src="../../docs/_quick_jump.html" data-mjf_dr_iframe_dim="fill" id="mjs_quick_jump_link">Quick Jump &crarr;</a></p>
	
	<h2 class="align_center bg_yellow_lite margin_bottom_20 padding_10">Insert text strings into the Magic Editor and other form fields</h2>
	
	<fieldset>

		<legend><a href="#" data-mjf="lightswitch|return_false" data-mjf_lswitch_id="initial_setup_cont" id="initial_setup">Initial Setup</a></legend>
		
		<div class="display_block" id="initial_setup_cont">
	
			<p class="form_line_content">
				Add <code>&lt;link href="/PATH/TO/magic/tricks/darkroom/darkroom.<script type="text/javascript">document.write($m.versions.tricks.css.darkroom);</script>.css" rel="stylesheet"&gt;</code><br>
				<code>&lt;script type="text/javascript" src="/PATH/TO/magic/tricks/darkroom/darkroom.<script type="text/javascript">document.write($m.versions.tricks.darkroom);</script>.js" charset="UTF-8"&gt;&lt;/script&gt;</code><br>
				<code>&lt;link href="/PATH/TO/magic/tricks/string_deposit/string_deposit.<script type="text/javascript">document.write($m.versions.tricks.css.string_deposit);</script>.css" rel="stylesheet"&gt;<br>
				&lt;script type="text/javascript" src="/PATH/TO/magic/tricks/string_deposit/string_deposit.<script type="text/javascript">document.write($m.versions.tricks.string_deposit);</script>.js" charset="UTF-8"&gt;&lt;/script&gt;</code><br><br>
				below your <code>&lt;script type="text/javascript" src="/PATH/TO/magic/wand.<script type="text/javascript">document.write($m.versions.wand);</script>.js" charset="UTF-8"&gt;&lt;/script&gt;</code>
			</p>

			<p class="form_line_content">Add <code>data-mjf="string_deposit" id="ELEMENT_ID"</code> to your <code>&lt;input type="text"&gt;</code> and/or <code>&lt;textarea&gt;</code> tag.</p>
	
			<div class="form_line_content">
				<p>Add the code below inside your <code>&lt;body&gt;</code> tag&hellip;</p>
				<p><textarea rows="5" cols="20" name="" class="input_fld example_code" wrap="off" readonly="readonly">&lt;script type="text/javascript"&gt;
    $m.trick.string_deposit.config = {
         title : "String Deposit" // will be displayed when the mouse hovers over the icon/button
        ,url : "strdep_ex.html"   // the Darkroom iframe URL which shows the available deposits
        ,dims : "400x265" // the dimensions of the Darkroom iframe
    };
&lt;/script&gt;</textarea></p>
			</div>
			
			<p class="form_line_content">
				Inside the <code>/PATH/TO/magic/tricks/string_deposit/</code> folder are two files: 1- <code>strdep_ex.html</code> and 2- <code>strdep_ex_2.html</code>.<br>
				It's easier to adapt one of these to suit your needs than building one from scratch. Simply duplicate the existing file and modify as needed.
			</p>
			
			<p class="form_line_content">
				If you'd like the <em>Darkrooms</em> to be be drag droppable, add <code>&lt;link href="/PATH/TO/magic/tricks/drag_n_drop/drag_n_drop.<script type="text/javascript">document.write($m.versions.tricks.css.drag_n_drop);</script>.css" rel="stylesheet"&gt;</code><br>
				<code>&lt;script type="text/javascript" src="/PATH/TO/magic/tricks/drag_n_drop/drag_n_drop.<script type="text/javascript">document.write($m.versions.tricks.drag_n_drop);</script>.js" charset="UTF-8"&gt;&lt;/script&gt;</code><br><br>
				below your <code>&lt;script type="text/javascript" src="/PATH/TO/magic/tricks/darkroom/darkroom.<script type="text/javascript">document.write($m.versions.tricks.darkroom);</script>.js" charset="UTF-8"&gt;&lt;/script&gt;</code><br><br>
				and <code>&lt;script type="text/javascript"&gt;$m.trick.drag_n_drop.free = true;&lt;/script&gt;</code> inside your <code>&lt;body&gt;</code> tag.
			</p>
			
			<p class="form_line_content">Add <code>&lt;script type="text/javascript"&gt;$m.string_deposit = true;&lt;/script&gt;</code> inside your <code>&lt;body&gt;</code> tag.</p>

		</div>

	</fieldset>


	<fieldset>

		<legend><a href="#" data-mjf="lightswitch|return_false" data-mjf_lswitch_id="examples_cont" id="examples_link">Examples</a></legend>
		
		<div class="display_block" id="examples_cont">
		
			<form action="#" method="post" data-mjf="magic_editor_form" name="string_deposit_form" id="string_deposit_form">
			
				<!--  -->
				<p class="form_line_content">
					<strong>Empty input field</strong> &mdash; default configuration<br>
					<input type="text" name="" value="" size="50" data-mjf="string_deposit" class="input_fld margin_bottom_5 margin_top_5 input_text_small" id="string_deposit_ex_1"><br>
					<code>&lt;input type="text" <em>data-mjf="string_deposit"</em> id="string_deposit_ex_1"&gt;</code>
				</p>
				<!--  -->
				
				<div class="form_line_content">
					<p><strong>Magic Editor textarea</strong> &mdash; default configuration<br></p>
					<div>
						<textarea rows="10" cols="20" data-mjf="magic_editor|string_deposit" name="" class="input_fld margin_top_5 input_textarea" id="string_deposit_ex_2"><p>Example 2</p></textarea>
					</div>
					<p><code>&lt;textarea data-mjf="magic_editor|string_deposit" id="string_deposit_ex_2"&gt;</code></p>
				</div>

				<!--  -->
				<p class="form_line_content">
					<strong>Populated input field</strong> &mdash; custom URL<br>
					<input type="text" name="" value="Example 3" size="50" data-mjf="string_deposit" data-mjf_string_deposit_url="strdep_ex_2.html" class="input_fld margin_bottom_5 margin_top_5 input_text_small" id="string_deposit_ex_3"><br>
					<code>&lt;input type="text" data-mjf="string_deposit" <em>data-mjf_string_deposit_url="strdep_ex_2.html"</em> id="string_deposit_ex_3"&gt;</code>
				</p>

				<p class="form_line_content">
					<strong>Populated textarea</strong> &mdash; custom dimensions<br>
					<textarea rows="5" cols="20" data-mjf="string_deposit" data-mjf_string_deposit_dims="265x265" name="" class="input_fld margin_bottom_5 margin_top_5 input_textarea" id="string_deposit_ex_4">Example 4</textarea><br>
					<code>&lt;textarea data-mjf="string_deposit" <em>data-mjf_string_deposit_dims="265x265"</em> id="string_deposit_ex_4"&gt;</code>
				</p>
				
				<p class="form_line_content">
					<strong>Populated input field</strong> &mdash; overwrite field contents<br>
					<input type="text" name="" value="Example 5" size="50" data-mjf="string_deposit" data-mjf_string_deposit_action="overwrite" class="input_fld margin_bottom_5 margin_top_5 input_text_small" id="string_deposit_ex_5"><br>
					<code>&lt;input type="text" data-mjf="string_deposit" <em>data-mjf_string_deposit_action="overwrite"</em> id="string_deposit_ex_5"&gt;</code>
				</p>
				<!--  -->

				<p class="align_center margin_top_20 print_none">
					<input type="button" name="clear_btn" value="Clear Fields" data-mjf="clear_onclick" data-mjf_coc_form="form_clear_onclick" class="bg_colors bg_colors_default margin_right_5" id="coc_clear_btn">
					<input type="reset" value="Reset Fields" class="bg_colors bg_colors_default margin_right_5">
				</p>

			</form>

		</div>

	</fieldset>


	<fieldset>

		<legend><a href="#" data-mjf="lightswitch|return_false" data-mjf_lswitch_id="notes_cont" id="notes_link">Notes</a></legend>
		
		<div class="display_block" id="notes_cont">

			<p class="form_line_content">It might be obvious already but the <a href="../magic_editor/">Magic Editor</a> needs to be properly set-up to use it with <em>String Deposit</em>.</p>
		
		</div>

	</fieldset>


	<fieldset>

		<legend><a href="#" data-mjf="lightswitch|return_false" data-mjf_lswitch_id="change_log_cont" id="change_log_link">Change Log</a></legend>
		
		<div class="display_block" id="change_log_cont">

			<div class="form_line_content">
				<h3>13.1.25</h3>
				<ul>
					<li>Fixed bug where Magic Editor toolbar button would be added on each AJAX request</li>
				</ul>
			</div>
			
			<div class="form_line_content">
				<h3>12.12.21</h3>
				<ul>
					<li>Better documentation and misc bug fixes</li>
				</ul>
			</div>
				
			<div class="form_line_content">
				<h3>12.12.17</h3>
				<ul>
					<li>Initial release</li>
				</ul>
			</div>
			
		</div>
	
	</fieldset>
	
	<fieldset>

		<legend><a href="#" data-mjf="lightswitch|return_false" data-mjf_lswitch_id="todo_cont" id="todo_link">To Do</a></legend>
		
		<div class="display_block" id="todo_cont">

			<div class="form_line_content">
				<ul>
					<li>Fix IE &lt; 8 <em>Magic Editor</em> insert at end of content bug.</li>
					<li>Fix Chrome's jumping bug.</li>
					<li>Fix icon placement in everything but Firefox.</li>
					<li>Replace selected text on non-Magic Editor fields.</li>
				</ul>
			</div>
			
		</div>

	</fieldset>


	<p class="align_center">&laquo; <a href="../../docs/">Back to the main documentation</a></p>

	<script type="text/javascript">
		$m.trick.darkroom = true;
		$m.wand.lightswitch = true;

		$m.trick.magic_editor.config = {
			 type : "advanced"
			,css_links : [
				 $m.config.basedir + "tricks/magic_editor/magic_editor.14.1.12.css"
				,$m.config.basedir + "tricks/magic_editor/example.css"
				,$m.config.basedir + "stylesheets/defaults.css"
			]

		};
		
		$m.trick.string_deposit.config = {
			 title : "String Deposit"
			,url : "strdep_ex.html"
			,dims : "400x265"
		};

		$m.trick.drag_n_drop.free = true;
		$m.wand.clear_onclick = true;

	</script>


</body>
</html>